(this["webpackJsonpsyte-home-test"]=this["webpackJsonpsyte-home-test"]||[]).push([[0],{46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(2),s=a.n(r),i=a(15),c=a.n(i);function o(){return Object(n.jsx)("header",{children:Object(n.jsxs)("div",{className:"header-content",children:[Object(n.jsx)("div",{className:"logo-img",children:Object(n.jsx)("img",{src:"https://cdn.freelogovectors.net/wp-content/uploads/2020/08/epl-premierleague-logo.png",alt:"premier-logo"})}),Object(n.jsx)("h1",{children:"PremLig"})]})})}var l=a(6),j=a(19),u=a(3),d=a.n(u),h=a(4),m=a(16),b=a(17),v=a(21),p=a(20),g={load:function(e){var t=localStorage.getItem(e);return JSON.parse(t)},save:function(e,t){var a=JSON.stringify(t);localStorage.setItem(e,a)}};var O=a(18),f=a.n(O);function x(){return(x=Object(h.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"x-rapidapi-key":"653d3b3764mshebe02e9e409a19bp1a3220jsn2a73f5baa876","x-rapidapi-host":"api-football-v1.p.rapidapi.com"}},"https://api-football-v1.p.rapidapi.com/v2/teams/league/2",e.next=4,f.a.get("https://api-football-v1.p.rapidapi.com/v2/teams/league/2",t);case 4:return a=e.sent,n=a.data.api.teams,console.log(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F={getTeams:function(){return x.apply(this,arguments)}};function y(e){var t=e.team,a=e.toggleFavorite;return Object(n.jsxs)("tr",{className:t.isFavorite?"list-item blink":"list-item",onClick:function(){return a(t.team_id)},children:[Object(n.jsx)("td",{className:"star-icon-wrapper",children:t.isFavorite?Object(n.jsx)("i",{className:"fa fa-star yellow"}):Object(n.jsx)("i",{className:"fa fa-star-o"})}),Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:"logo-wrapper",children:Object(n.jsx)("img",{src:t.logo,alt:"team-logo"})})}),Object(n.jsxs)("td",{children:[Object(n.jsx)("span",{className:"title-mobile",children:"Team: "}),t.name]}),Object(n.jsxs)("td",{children:[Object(n.jsx)("span",{className:"title-mobile",children:"Founded: "}),t.founded]})]})}function N(e){var t=e.teams,a=e.toggleFavorite;return Object(n.jsx)("div",{children:Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Favorite"}),Object(n.jsx)("th",{children:"Crest"}),Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Year Founded"})]})}),Object(n.jsx)("tbody",{children:t.map((function(e){return Object(n.jsx)(y,{team:e,toggleFavorite:a},e.team_id)}))})]})})}function w(e){var t=e.teamsLength,a=e.itemsPerPage,r=e.currPage,s=e.onPageChange,i=Array.from(Array(Math.round(t/a)),(function(e,t){return t+1}));return Object(n.jsx)("div",{className:"pagination-container",children:Object(n.jsxs)("ul",{className:"pages-list",children:[Object(n.jsx)("i",{onClick:function(){return s(r-1)},className:"".concat(r!==i[0]," fa fa-chevron-circle-left")}),i.map((function(e,t){return Object(n.jsx)("li",{className:r===e?"current-page":"page",onClick:function(){return s(e)},children:e},t)})),Object(n.jsx)("i",{onClick:function(){return s(r+1)},className:"".concat(r!==i[i.length-1]," fa fa-chevron-circle-right")})]})})}function S(e){var t=e.handleSortFilter,a=e.clearFavorites,r=e.showFavOnly;return Object(n.jsx)("section",{className:"toolbar-container",children:Object(n.jsxs)("div",{className:"filter-sort-container",children:[Object(n.jsxs)("div",{className:"fav-toggle",children:[Object(n.jsx)("input",{type:"checkbox",hidden:!0,name:"favOnly",id:"favOnly",onChange:function(e){return t(e)}}),Object(n.jsx)("label",{htmlFor:"favOnly",children:Object(n.jsx)("div",{className:"fav-wrapper",children:r?Object(n.jsx)("i",{className:"fa fa-star yellow"}):Object(n.jsx)("i",{className:"fa fa-star-o"})})})]}),Object(n.jsxs)("div",{className:"select-container",children:[Object(n.jsxs)("select",{name:"sortBy",onChange:function(e){return t(e)},children:[Object(n.jsx)("option",{value:"",children:"Sort by"}),Object(n.jsx)("option",{value:"name",children:"By Name"}),Object(n.jsx)("option",{value:"year",children:"Year Founded"}),Object(n.jsx)("option",{value:"favorite",children:"Favorites First"})]}),Object(n.jsx)("div",{className:"select-arrow"})]}),Object(n.jsxs)("div",{className:"select-container",children:[Object(n.jsxs)("select",{name:"paginate",onChange:function(e){return t(e)},children:[Object(n.jsx)("option",{value:"0",children:"Show All Teams"}),Object(n.jsx)("option",{value:"5",children:"5 per page"}),Object(n.jsx)("option",{value:"7",children:"7 per page"}),Object(n.jsx)("option",{value:"10",children:"10 per page"})]}),Object(n.jsx)("div",{className:"select-arrow"})]}),Object(n.jsx)("div",{className:"btn-container",children:Object(n.jsxs)("button",{onClick:function(){return a()},children:[Object(n.jsx)("i",{className:"fa fa-ban"}),Object(n.jsx)("span",{children:"Clear Favorites"})]})})]})})}var k="teams_db",P=function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={teams:[],sortBy:null,showFavOnly:!1,pagination:{itemsToShow:0,currPage:1}},e.loadTeams=Object(h.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=[],!g.load(k)){t.next=5;break}a=g.load(k),t.next=10;break;case 5:return t.next=7,F.getTeams();case 7:(a=t.sent).map((function(e){return e.isFavorite=!1})),g.save(k,a);case 10:e.setState({teams:a});case 11:case"end":return t.stop()}}),t)}))),e.toggleFavorite=function(t){var a=Object(j.a)(e.state.teams),n=a.findIndex((function(e){return e.team_id===t})),r=a[n];r.isFavorite=!r.isFavorite,e.setState({teams:a},(function(){g.save(k,e.state.teams)}))},e.getTeamsForDisplay=function(){var t=e.state,a=t.teams,n=t.sortBy,r=t.showFavOnly,s=t.pagination;return r&&(a=a.filter((function(e){return e.isFavorite}))),"favorite"===n?a.sort((function(e,t){return t.isFavorite-e.isFavorite})):"name"===n?a.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})):"year"===n&&a.sort((function(e,t){return t.founded-e.founded})),0!==s.itemsToShow?e.paginate(a):a},e.paginate=function(t){var a=e.state.pagination,n=a.itemsToShow,r=a.currPage;return t.slice((r-1)*n,r*n)},e.handleSortFilter=function(t){if("favOnly"===t.target.name)e.setState({showFavOnly:t.target.checked});else if("paginate"===t.target.name){var a=Object(l.a)({},e.state.pagination);a.itemsToShow=+t.target.value,a.currPage=1,e.setState({pagination:a})}else e.setState({sortBy:t.target.value})},e.clearFavorites=function(){var t=e.state.teams;t.map((function(e){return e.isFavorite=!1})),e.setState({teams:t},(function(){g.save(k,e.state.teams)}))},e.onPageChange=function(t){var a=Object(l.a)({},e.state.pagination);a.currPage=t,e.setState({pagination:a})},e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.loadTeams()}},{key:"render",value:function(){var e,t=this.state.showFavOnly,a=this.getTeamsForDisplay();return e=t?a.length:this.state.teams.length,Object(n.jsxs)("main",{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(S,{handleSortFilter:this.handleSortFilter,clearFavorites:this.clearFavorites,showFavOnly:t}),Object(n.jsx)(N,{teams:a,toggleFavorite:this.toggleFavorite})]}),0!==this.state.pagination.itemsToShow&&Object(n.jsx)(w,{teamsLength:e,itemsPerPage:this.state.pagination.itemsToShow,currPage:this.state.pagination.currPage,onPageChange:this.onPageChange})]})}}]),a}(r.Component);a(46);function C(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(o,{}),Object(n.jsx)("div",{className:"main-container",children:Object(n.jsx)(P,{})})]})}c.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(C,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.f173dc12.chunk.js.map