{"version":3,"sources":["cmps/Header.jsx","services/storageService.js","services/teamService.js","cmps/TeamItem.jsx","cmps/TeamList.jsx","cmps/Pagination.jsx","cmps/FilterSort.jsx","views/Main.jsx","App.jsx","index.js"],"names":["Header","className","src","alt","storageService","load","key","str","localStorage","getItem","JSON","parse","save","val","stringify","setItem","a","options","axios","get","res","teams","data","api","console","log","teamService","getTeams","TeamItem","team","toggleFavorite","isFavorite","onClick","team_id","logo","name","founded","TeamList","map","Pagination","teamsLength","itemsPerPage","currPage","onPageChange","pages","Array","from","Math","round","v","i","page","idx","length","FilterSort","handleSortFilter","clearFavorites","showFavOnly","type","hidden","id","onChange","ev","htmlFor","value","STORAGE_KEY","Main","state","sortBy","pagination","itemsToShow","loadTeams","setState","teamId","teamsCopy","teamIdx","findIndex","getTeamsForDisplay","filter","sort","b","paginate","slice","target","checked","paginationCopy","this","Component","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+LAAO,SAASA,IACZ,OACI,iCACI,sBAAKC,UAAU,iBAAf,UACI,qBAAKA,UAAU,WAAf,SACI,qBAAKC,IAAI,wFAAwFC,IAAI,mBAEzG,8C,0ECPHC,EAAiB,CAC1BC,KAIJ,SAAcC,GACV,IAAMC,EAAMC,aAAaC,QAAQH,GACjC,OAAOI,KAAKC,MAAMJ,IALlBK,KAQJ,SAAcN,EAAKO,GACf,IAAMN,EAAMG,KAAKI,UAAUD,GAC3BL,aAAaO,QAAQT,EAAKC,K,iECV9B,gCAAAS,EAAA,6DACUC,EAAU,CACZ,OAAU,MACV,QAAW,CACP,iBAAkB,qDAClB,kBAAmB,mCAGf,2DARhB,SASsBC,IAAMC,IADZ,2DACqBF,GATrC,cASUG,EATV,OAUUC,EAAQD,EAAIE,KAAKC,IAAIF,MAC3BG,QAAQC,IAAIJ,GAXhB,kBAYWA,GAZX,4C,sBAgBO,IAAMK,EAAc,CACvBC,S,4CCnBG,SAASC,EAAT,GAA4C,IAAxBC,EAAuB,EAAvBA,KAAMC,EAAiB,EAAjBA,eAC7B,OACI,qBAAI7B,UAAW4B,EAAKE,WAAL,8BAAmDC,QAAS,kBAAIF,EAAeD,EAAKI,UAAnG,UACI,oBAAIhC,UAAU,oBAAd,SAAmC4B,EAAKE,WAAa,mBAAG9B,UAAU,sBAA2B,mBAAGA,UAAU,mBAC1G,6BACI,qBAAKA,UAAU,eAAf,SACI,qBAAKC,IAAK2B,EAAKK,KAAM/B,IAAI,kBAGjC,+BAAI,sBAAMF,UAAU,eAAhB,oBAA6C4B,EAAKM,QACtD,+BAAI,sBAAMlC,UAAU,eAAhB,uBAAgD4B,EAAKO,cCR9D,SAASC,EAAT,GAA6C,IAAzBhB,EAAwB,EAAxBA,MAAOS,EAAiB,EAAjBA,eAC9B,OACI,8BACI,kCACI,gCACI,+BACI,0CACA,uCACA,sCACA,mDAGR,gCACKT,EAAMiB,KAAI,SAAAT,GACP,OAAO,cAACD,EAAD,CAA6BC,KAAMA,EAAMC,eAAgBA,GAA1CD,EAAKI,mBChB5C,SAASM,EAAT,GAAyE,IAApDC,EAAmD,EAAnDA,YAAaC,EAAsC,EAAtCA,aAAcC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,aACvDC,EAAQC,MAAMC,KAAKD,MAAME,KAAKC,MAAMR,EAAYC,KAAgB,SAACQ,EAAGC,GAAJ,OAAUA,EAAI,KACpF,OACI,qBAAKjD,UAAU,uBAAf,SACI,qBAAIA,UAAU,aAAd,UACI,mBAAG+B,QAAS,kBAAIW,EAAaD,EAAS,IAAIzC,UAAS,UAAKyC,IAAaE,EAAM,GAAxB,gCAClDA,EAAMN,KAAI,SAACa,EAAMC,GACd,OAAO,oBACKnD,UAAWyC,IAAaS,EAAO,eAAiB,OAChDnB,QAAS,kBAAIW,EAAaQ,IAF/B,SAGUA,GAHDC,MAMpB,mBAAGpB,QAAS,kBAAIW,EAAaD,EAAS,IAAIzC,UAAS,UAAKyC,IAAaE,EAAMA,EAAMS,OAAO,GAArC,sCCb5D,SAASC,EAAT,GAAyE,IAAlDC,EAAiD,EAAjDA,iBAAkBC,EAA+B,EAA/BA,eAAgBC,EAAe,EAAfA,YAE5D,OACI,yBAASxD,UAAU,oBAAnB,SACI,sBAAKA,UAAU,wBAAf,UACI,sBAAKA,UAAU,aAAf,UACI,uBAAOyD,KAAK,WAAWC,QAAM,EAACxB,KAAK,UAAUyB,GAAG,UAAUC,SAAU,SAACC,GAAD,OAAMP,EAAiBO,MAC3F,uBAAOC,QAAQ,UAAf,SACI,qBAAK9D,UAAU,cAAf,SACKwD,EACG,mBAAGxD,UAAU,sBACb,mBAAGA,UAAU,wBAK7B,sBAAKA,UAAU,mBAAf,UACI,yBAAQkC,KAAK,SAAS0B,SAAU,SAACC,GAAD,OAAMP,EAAiBO,IAAvD,UACI,wBAAQE,MAAM,GAAd,qBACA,wBAAQA,MAAM,OAAd,qBACA,wBAAQA,MAAM,OAAd,0BACA,wBAAQA,MAAM,WAAd,gCAEJ,qBAAK/D,UAAU,oBAEnB,sBAAKA,UAAU,mBAAf,UACI,yBAAQkC,KAAK,WAAW0B,SAAU,SAACC,GAAD,OAAMP,EAAiBO,IAAzD,UACI,wBAAQE,MAAM,IAAd,4BACA,wBAAQA,MAAM,IAAd,wBACA,wBAAQA,MAAM,IAAd,wBACA,wBAAQA,MAAM,KAAd,4BAEJ,qBAAK/D,UAAU,oBAEvB,qBAAKA,UAAU,gBAAf,SACI,yBAAQ+B,QAAS,kBAAIwB,KAArB,UAAuC,mBAAGvD,UAAU,cAAgB,6DC5BpF,IAAMgE,EAAc,WAEPC,EAAb,4MAEIC,MAAQ,CACJ9C,MAAO,GACP+C,OAAQ,KACRX,aAAa,EACbY,WAAY,CACRC,YAAa,EACb5B,SAAU,IARtB,EAiBI6B,UAjBJ,sBAiBgB,4BAAAvD,EAAA,yDACJK,EAAQ,IACRjB,EAAeC,KAAK4D,GAFhB,gBAGJ5C,EAAQjB,EAAeC,KAAK4D,GAHxB,uCAMUvC,EAAYC,WANtB,QAMJN,EANI,QAOEiB,KAAI,SAAAT,GAAI,OAAIA,EAAKE,YAAa,KACpC3B,EAAeQ,KAAKqD,EAAY5C,GAR5B,QAUR,EAAKmD,SAAS,CAAEnD,UAVR,4CAjBhB,EA8BIS,eAAiB,SAAC2C,GACd,IAAMC,EAAS,YAAO,EAAKP,MAAM9C,OAC3BsD,EAAUD,EAAUE,WAAU,SAAA/C,GAAI,OAAIA,EAAKI,UAAYwC,KACvD5C,EAAO6C,EAAUC,GACvB9C,EAAKE,YAAcF,EAAKE,WACxB,EAAKyC,SAAS,CAACnD,MAAOqD,IAAY,WAC9BtE,EAAeQ,KAAKqD,EAAY,EAAKE,MAAM9C,WApCvD,EAwCIwD,mBAAqB,WAAM,IAAD,EAC2B,EAAKV,MAAhD9C,EADgB,EAChBA,MAAO+C,EADS,EACTA,OAAQX,EADC,EACDA,YAAaY,EADZ,EACYA,WAmBlC,OAlBIZ,IAAapC,EAAQA,EAAMyD,QAAO,SAAAjD,GAAI,OAAIA,EAAKE,eACpC,aAAXqC,EACA/C,EAAM0D,MAAK,SAAC/D,EAAEgE,GACV,OAAOA,EAAEjD,WAAaf,EAAEe,cAGZ,SAAXqC,EACL/C,EAAM0D,MAAM,SAAC/D,EAAEgE,GACX,OAAGhE,EAAEmB,KAAO6C,EAAE7C,MAAc,EACzBnB,EAAEmB,KAAO6C,EAAE7C,KAAa,EACpB,KAGK,SAAXiC,GACL/C,EAAM0D,MAAK,SAAC/D,EAAEgE,GACV,OAAOA,EAAE5C,QAAUpB,EAAEoB,WAGE,IAA3BiC,EAAWC,YAA0B,EAAKW,SAAS5D,GAChDA,GA7Df,EAgEI4D,SAAW,SAAC5D,GAAU,IAAD,EACiB,EAAK8C,MAAME,WAArCC,EADS,EACTA,YAAa5B,EADJ,EACIA,SACrB,OAAOrB,EAAM6D,OAAOxC,EAAW,GAAK4B,EAAa5B,EAAW4B,IAlEpE,EAqEIf,iBAAmB,SAACO,GAChB,GAAuB,YAAnBA,EAAGqB,OAAOhD,KAAoB,EAAKqC,SAAS,CAACf,YAAaK,EAAGqB,OAAOC,eACnE,GAAuB,aAAnBtB,EAAGqB,OAAOhD,KAAqB,CACpC,IAAMkD,EAAc,eAAO,EAAKlB,MAAME,YACtCgB,EAAef,aAAeR,EAAGqB,OAAOnB,MACxCqB,EAAe3C,SAAW,EAC1B,EAAK8B,SAAS,CAACH,WAAYgB,SAG1B,EAAKb,SAAS,CAACJ,OAAQN,EAAGqB,OAAOnB,SA9E9C,EAiFIR,eAAiB,WACb,IAAMkB,EAAY,EAAKP,MAAM9C,MAC7BqD,EAAUpC,KAAI,SAAAT,GAAI,OAAEA,EAAKE,YAAa,KACtC,EAAKyC,SAAS,CAACnD,MAAOqD,IAAY,WAC9BtE,EAAeQ,KAAKqD,EAAY,EAAKE,MAAM9C,WArFvD,EAyFIsB,aAAe,SAACQ,GACZ,IAAMkC,EAAc,eAAO,EAAKlB,MAAME,YACtCgB,EAAe3C,SAAWS,EAC1B,EAAKqB,SAAS,CAACH,WAAYgB,KA5FnC,kEAaQC,KAAKf,cAbb,+BA+Fa,IAGD/B,EAFIiB,EAAgB6B,KAAKnB,MAArBV,YACFpC,EAAQiE,KAAKT,qBAGnB,OADcrC,EAAdiB,EAA4BpC,EAAMgC,OAAuBiC,KAAKnB,MAAM9C,MAAMgC,OAEtE,iCACI,gCACI,cAACC,EAAD,CACIC,iBAAkB+B,KAAK/B,iBACvBC,eAAgB8B,KAAK9B,eACrBC,YAAaA,IAEjB,cAACpB,EAAD,CACIhB,MAAOA,EACPS,eAAgBwD,KAAKxD,oBAGU,IAAtCwD,KAAKnB,MAAME,WAAWC,aACnB,cAAC/B,EAAD,CACIC,YAAaA,EACbC,aAAc6C,KAAKnB,MAAME,WAAWC,YACpC5B,SAAU4C,KAAKnB,MAAME,WAAW3B,SAChCC,aAAc2C,KAAK3C,sBAtH3C,GAA0B4C,a,MCLnB,SAASC,IACZ,OACI,sBAAKvF,UAAU,MAAf,UACI,cAACD,EAAD,IACA,qBAAKC,UAAU,iBAAf,SACI,cAAC,EAAD,SCJhBwF,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACH,EAAD,MAEFI,SAASC,eAAe,W","file":"static/js/main.f173dc12.chunk.js","sourcesContent":["export function Header() {\n    return (\n        <header>\n            <div className=\"header-content\">\n                <div className=\"logo-img\">\n                    <img src=\"https://cdn.freelogovectors.net/wp-content/uploads/2020/08/epl-premierleague-logo.png\" alt=\"premier-logo\"/>\n                </div>\n                <h1>PremLig</h1>\n            </div>\n        </header>\n    )\n}","export const storageService = {\n    load,\n    save\n}\n\nfunction load(key) {\n    const str = localStorage.getItem(key)\n    return JSON.parse(str)\n}\n\nfunction save(key, val) {\n    const str = JSON.stringify(val)\n    localStorage.setItem(key, str)\n}","import axios from 'axios'\n\nasync function getTeams(){\n    const options = {\n        \"method\": \"GET\",\n        \"headers\": {\n            \"x-rapidapi-key\": \"653d3b3764mshebe02e9e409a19bp1a3220jsn2a73f5baa876\",\n            \"x-rapidapi-host\": \"api-football-v1.p.rapidapi.com\"\n        }\n    }\n    const url = \"https://api-football-v1.p.rapidapi.com/v2/teams/league/2\"\n    const res = await axios.get(url, options)\n    const teams = res.data.api.teams\n    console.log(teams);\n    return teams\n    \n}\n\nexport const teamService = {\n    getTeams\n}","export function TeamItem ({team, toggleFavorite}) {\n    return (\n        <tr className={team.isFavorite ? `list-item blink` : `list-item`} onClick={()=>toggleFavorite(team.team_id)}>\n            <td className=\"star-icon-wrapper\">{team.isFavorite ? <i className=\"fa fa-star yellow\"></i> : <i className=\"fa fa-star-o\"></i>}</td>\n            <td>\n                <div className=\"logo-wrapper\">\n                    <img src={team.logo} alt=\"team-logo\"/>\n                </div>\n            </td>\n            <td><span className=\"title-mobile\">Team: </span>{team.name}</td>\n            <td><span className=\"title-mobile\">Founded: </span>{team.founded}</td>\n        </tr>\n    )\n}","import { TeamItem } from \"./TeamItem\"\n\nexport function TeamList ({teams, toggleFavorite}) {\n    return (\n        <div>\n            <table>\n                <thead>\n                    <tr>\n                        <th>Favorite</th>\n                        <th>Crest</th>\n                        <th>Name</th>\n                        <th>Year Founded</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {teams.map(team =>{\n                        return <TeamItem key={team.team_id} team={team} toggleFavorite={toggleFavorite}/>\n                    })}   \n                </tbody>\n            </table>\n        </div>\n    )\n}","export function Pagination({teamsLength, itemsPerPage, currPage, onPageChange}){\n    const pages = Array.from(Array(Math.round(teamsLength/itemsPerPage)), (v, i) => i + 1)\n    return (\n        <div className=\"pagination-container\">\n            <ul className=\"pages-list\">\n                <i onClick={()=>onPageChange(currPage-1)} className={`${currPage !== pages[0]} fa fa-chevron-circle-left`}></i>\n                {pages.map((page, idx)=>{\n                    return <li key={idx} \n                                className={currPage === page ? 'current-page' : 'page'} \n                                onClick={()=>onPageChange(page)}>\n                                    {page}\n                            </li>\n                })}\n                <i onClick={()=>onPageChange(currPage+1)} className={`${currPage !== pages[pages.length-1]} fa fa-chevron-circle-right`}></i>\n            </ul>\n        </div>\n    )\n}","export function FilterSort ({ handleSortFilter, clearFavorites, showFavOnly }) {\n    \n    return (\n        <section className=\"toolbar-container\">\n            <div className=\"filter-sort-container\">\n                <div className=\"fav-toggle\">\n                    <input type=\"checkbox\" hidden name=\"favOnly\" id=\"favOnly\" onChange={(ev)=>handleSortFilter(ev)}/>\n                    <label htmlFor=\"favOnly\">\n                        <div className=\"fav-wrapper\">\n                            {showFavOnly ? \n                                <i className=\"fa fa-star yellow\"></i> :\n                                <i className=\"fa fa-star-o\"></i>\n                            }\n                        </div>\n                    </label>\n                </div>\n                <div className=\"select-container\">\n                    <select name=\"sortBy\" onChange={(ev)=>handleSortFilter(ev)}>\n                        <option value=\"\">Sort by</option>\n                        <option value=\"name\">By Name</option>\n                        <option value=\"year\">Year Founded</option>\n                        <option value=\"favorite\">Favorites First</option>\n                    </select>\n                    <div className=\"select-arrow\"></div>\n                </div>\n                <div className=\"select-container\">\n                    <select name=\"paginate\" onChange={(ev)=>handleSortFilter(ev)}>\n                        <option value=\"0\">Show All Teams</option>\n                        <option value=\"5\">5 per page</option>\n                        <option value=\"7\">7 per page</option>\n                        <option value=\"10\">10 per page</option>\n                    </select>\n                    <div className=\"select-arrow\"></div>\n                </div>\n            <div className=\"btn-container\">\n                <button onClick={()=>clearFavorites()}><i className=\"fa fa-ban\"></i><span>Clear Favorites</span></button>\n            </div>\n            </div>\n        </section>\n    )\n}","import { Component } from \"react\";\nimport { storageService } from \"../services/storageService\";\nimport { teamService } from \"../services/teamService\";\nimport { TeamList } from \"../cmps/TeamList\";\nimport { Pagination } from \"../cmps/Pagination\";\nimport { FilterSort } from \"../cmps/FilterSort\";\n\nconst STORAGE_KEY = 'teams_db'\n\nexport class Main extends Component {\n\n    state = {\n        teams: [],\n        sortBy: null,\n        showFavOnly: false,\n        pagination: {\n            itemsToShow: 0,\n            currPage: 1\n        }\n    }\n\n    componentDidMount(){\n        this.loadTeams()\n        \n    }\n\n    loadTeams = async()=> {\n        var teams = []\n        if (storageService.load(STORAGE_KEY)) {\n            teams = storageService.load(STORAGE_KEY)\n        }\n        else {\n            teams = await teamService.getTeams()\n            teams.map(team => team.isFavorite = false)\n            storageService.save(STORAGE_KEY,teams)\n        }\n        this.setState({ teams })\n    }\n\n    toggleFavorite = (teamId) => {\n        const teamsCopy = [...this.state.teams]\n        const teamIdx = teamsCopy.findIndex(team => team.team_id === teamId)\n        const team = teamsCopy[teamIdx]\n        team.isFavorite = !team.isFavorite\n        this.setState({teams: teamsCopy}, ()=>{\n            storageService.save(STORAGE_KEY,this.state.teams)\n        })\n    }\n\n    getTeamsForDisplay = ()=> {\n        var { teams, sortBy, showFavOnly, pagination } = this.state\n        if (showFavOnly) teams = teams.filter(team => team.isFavorite)\n        if (sortBy === 'favorite') {\n            teams.sort((a,b)=>{\n                return b.isFavorite - a.isFavorite\n            })\n        }\n        else if (sortBy === 'name') {\n            teams.sort ((a,b) => {\n                if(a.name < b.name) return -1\n                if(a.name > b.name) return 1\n                return 0;\n            })\n        }\n        else if (sortBy === 'year') {\n            teams.sort((a,b)=>{\n                return b.founded - a.founded\n            })\n        }\n        if (pagination.itemsToShow !== 0) return this.paginate(teams)\n        return teams\n    }\n\n    paginate = (teams)=> {\n        const { itemsToShow, currPage } = this.state.pagination\n        return teams.slice((currPage - 1) * itemsToShow, currPage * itemsToShow)\n    }\n\n    handleSortFilter = (ev)=> {\n        if (ev.target.name === 'favOnly') this.setState({showFavOnly: ev.target.checked})\n        else if (ev.target.name === 'paginate') {\n            const paginationCopy = {...this.state.pagination}\n            paginationCopy.itemsToShow = +ev.target.value\n            paginationCopy.currPage = 1\n            this.setState({pagination: paginationCopy})\n        }\n        \n        else this.setState({sortBy: ev.target.value})\n    }\n\n    clearFavorites = ()=> {\n        const teamsCopy = this.state.teams\n        teamsCopy.map(team=>team.isFavorite = false)\n        this.setState({teams: teamsCopy}, ()=>{\n            storageService.save(STORAGE_KEY,this.state.teams)\n        })\n    }\n\n    onPageChange = (page)=>{\n        const paginationCopy = {...this.state.pagination}\n        paginationCopy.currPage = page\n        this.setState({pagination: paginationCopy})\n    }\n\n    render(){\n        const { showFavOnly } = this.state\n        const teams = this.getTeamsForDisplay()\n        var teamsLength\n        showFavOnly ? teamsLength = teams.length : teamsLength = this.state.teams.length\n        return (\n            <main>\n                <div>\n                    <FilterSort \n                        handleSortFilter={this.handleSortFilter} \n                        clearFavorites={this.clearFavorites}\n                        showFavOnly={showFavOnly}\n                    />\n                    <TeamList \n                        teams={teams} \n                        toggleFavorite={this.toggleFavorite}\n                    />\n                </div>\n                {this.state.pagination.itemsToShow !== 0 &&\n                    <Pagination \n                        teamsLength={teamsLength} \n                        itemsPerPage={this.state.pagination.itemsToShow}\n                        currPage={this.state.pagination.currPage}\n                        onPageChange={this.onPageChange}\n                    />\n                }\n            </main>\n        )\n    }\n}","import { Header } from \"./cmps/Header\";\nimport { Main } from \"./views/Main\";\nimport './styles/styles.scss'\n\nexport function App() {\n    return (\n        <div className=\"App\">\n            <Header />\n            <div className=\"main-container\">\n                <Main />\n            </div>\n        </div>\n    );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './App.jsx';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}